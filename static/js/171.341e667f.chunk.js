"use strict";(self.webpackChunktest_reactjs=self.webpackChunktest_reactjs||[]).push([[171],{4171:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(2791),n=s(5294),c=s(184);const i={Speed:{type:"int"},date:{type:Date,default:Date.now}},d=e=>"string"!==typeof e||e.trim().length<1;function l(){const[e,t]=(0,a.useState)(i),[s,l]=(0,a.useState)({}),[o,r]=(0,a.useState)(!1),p=()=>{r(!o)};console.log(s);const[h,u]=(0,a.useState)([]),[S,m]=(0,a.useState)([]);(0,a.useEffect)((()=>{g()}),[]);const g=()=>{fetch("https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/GET_LIST_SPEED").then((e=>e.json())).then((e=>{u(e[0].public.input.jsondata),m(e[0].public.input.jsondata)})).catch((e=>{console.error("Fetch error:",e)}))};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"title",children:[(0,c.jsx)("i",{className:"uil uil-tachometer-fast-alt"}),(0,c.jsx)("span",{className:"text",children:"Test Speed"})]}),(0,c.jsx)("div",{className:"Speed-input1",children:(0,c.jsxs)("div",{className:"Speed-iput-container1",children:[(0,c.jsx)("h1",{className:"",children:"T\u1ed1c \u0111\u1ed9 \u0111\u1ed9ng c\u01a1 mong mu\u1ed1n"}),(0,c.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const s=(new Date).toISOString();if((()=>{const t={};return d(e.Speed)?t.Speed="Speed is required":(e.Speed<500||e.Speed>5e3)&&(t.Speed="Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb t\u1eeb 500 \u0111\u1ebfn 5000"),l(t),0===Object.keys(t).length})())try{const t={speed:e.Speed,date:s},a=await n.Z.post("https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/POST_SPEED",t),c=await n.Z.post("https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/test",e);console.log("\u0110\xe3 g\u1eedi d\u1eef li\u1ec7u th\xe0nh c\xf4ng:",a.data),console.log("\u0110\xe3 g\u1eedi d\u1eef li\u1ec7u th\xe0nh c\xf4ng:",c.data),g(),p()}catch(a){console.error("L\u1ed7i khi g\u1eedi d\u1eef li\u1ec7u:",a)}else console.log("form invalid")},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"Speed",className:"form-label1",children:"Nh\u1eadp T\u1ed1c \u0110\u1ed9 \u0110\u1ed9ng C\u01a1"}),(0,c.jsx)("input",{id:"Speed",className:"form-control",type:"number",name:"speed",value:e.Speed,onChange:s=>{const{value:a}=s.target;t({...e,Speed:a,date:(new Date).toISOString()})}}),s.Speed&&(0,c.jsx)("div",{className:"error-feedback",children:s.Speed})]}),(0,c.jsx)("div",{className:"center-align11",children:(0,c.jsx)("button",{type:"submit",className:"button3",children:"B\u1eaft \u0110\u1ea7u"})})]})]})}),o&&(0,c.jsx)("div",{className:"modal",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsx)("i",{class:"uil uil-check-circle modalicon",style:{width:"200px"}}),(0,c.jsx)("h2",{children:"Th\xe0nh C\xf4ng"}),(0,c.jsxs)("p",{children:["T\u1ed1c \u0110\u1ed9 Hi\u1ec7n T\u1ea1i: ",e.Speed]}),(0,c.jsx)("button",{className:"modal-close",onClick:p,children:"\u0110\xf3ng"})]})}),(0,c.jsxs)("div",{className:"title",children:[(0,c.jsx)("i",{className:"uil uil-tachometer-fast-alt"}),(0,c.jsx)("span",{className:"text",children:"Speed History"})]}),(0,c.jsxs)("table",{style:{marginTop:"20px"},children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Type"}),(0,c.jsx)("th",{children:"Last Speed"}),(0,c.jsx)("th",{children:"Last Time "})]})}),(0,c.jsx)("tbody",{children:Object.values(S).sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,10).map((e=>{const t=new Date(e.date),s="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"),":").concat(t.getSeconds().toString().padStart(2,"0"));return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"\u0110\u1ed9ng C\u01a1 B\u01b0\u1edbc"}),(0,c.jsx)("td",{children:e.speed}),(0,c.jsx)("td",{children:s})]},e.id)}))})]})]})}}}]);
//# sourceMappingURL=171.341e667f.chunk.js.map