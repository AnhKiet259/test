"use strict";(self.webpackChunktest_reactjs=self.webpackChunktest_reactjs||[]).push([[208],{208:(n,o,t)=>{t.r(o),t.d(o,{default:()=>d});var i=t(2791),e=t(7760),a=t(6668),l=t(9738),r=t(184);const d=()=>{const n=(0,i.useRef)(null);return(0,i.useEffect)((()=>{let o,t,i,r,d,s,u,c,p,h,m,v,w;const f=()=>{requestAnimationFrame(f),i.render(t,o)},g=()=>{o.aspect=window.innerWidth/2/(window.innerHeight/2),o.updateProjectionMatrix(),i.setSize(window.innerWidth/2,window.innerHeight/2)};return(()=>{o=new e.cPb(40,window.innerWidth/2/(window.innerHeight/2),.01,10),o.position.set(3,3,1),o.lookAt(0,0,0),t=new e.xsS,t.background=new e.Ilk(16777215);const f=new e.vmT(12303359,4473890);f.position.set(0,1,0),t.add(f);const b=new e.Kj0(new e._12(6,6),new e.xoR({color:10066329,depthWrite:!1}));b.rotation.x=-Math.PI/2,b.receiveShadow=!0,t.add(b);const _=new e.VLJ(6,20,0,0);_.material.opacity=.1,_.material.transparent=!0,t.add(_);(new a.E).load("https://raw.githubusercontent.com/AnhKiet259/Test3D/master/mohinh.glb",(function(n){const o=n.scene;o.traverse((n=>{n.isMesh&&(n.material.metalness=!1,n.material.wireframe=!1,n.castShadow=!0,n.receiveShadow=!0)}));const i=o.children[0].children[1];t.add(o);const a=i.skeleton,l=new e._YX(a.bones[0]);l.skeleton=a,l.visible=!0,t.add(l);const f=i.skeleton.bones;async function g(){fetch("https://ap-southeast-1.aws.data.mongodb-api.com/app/data-byptt/endpoint/GET_MOTION_API").then((n=>{if(!n.ok)throw new Error("Network response was not ok");return n.json()})).then((n=>{var o,t,i,e,a,l,c,p,h,m,v,w,f,g,b,_;const x=null===(o=n[0])||void 0===o||null===(t=o.public)||void 0===t||null===(i=t.output)||void 0===i||null===(e=i.jsonData)||void 0===e?void 0:e.taytrai_p,j=null===(a=n[0])||void 0===a||null===(l=a.public)||void 0===l||null===(c=l.output)||void 0===c||null===(p=c.jsonData)||void 0===p?void 0:p.cangtaytrai_p,k=null===(h=n[0])||void 0===h||null===(m=h.public)||void 0===m||null===(v=m.output)||void 0===v||null===(w=v.jsonData)||void 0===w?void 0:w.tayphai_p,E=null===(f=n[0])||void 0===f||null===(g=f.public)||void 0===g||null===(b=g.output)||void 0===b||null===(_=b.jsonData)||void 0===_?void 0:_.cangtayphai_p;r.rotation.z=x,d.rotation.z=k,s.rotation.z=j,u.rotation.z=E})).catch((n=>{console.error("There was a problem with the fetch operation:",n)}))}async function b(){fetch("https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/TEST_GET").then((n=>{if(!n.ok)throw new Error("Network response was not ok");return n.json()})).then((n=>{var o,t,i,e,a,l,r,d,s,u,v,w;const f=n[0].public.output.jsonData.Roll_dui_trai_moi,g=null===(o=n[0])||void 0===o||null===(t=o.public)||void 0===t||null===(i=t.output)||void 0===i||null===(e=i.jsonData)||void 0===e?void 0:e.Roll_bap_chan_trai_moi,b=null===(a=n[0])||void 0===a||null===(l=a.public)||void 0===l||null===(r=l.output)||void 0===r||null===(d=r.jsonData)||void 0===d?void 0:d.Roll_dui_phai_moi,_=null===(s=n[0])||void 0===s||null===(u=s.public)||void 0===u||null===(v=u.output)||void 0===v||null===(w=v.jsonData)||void 0===w?void 0:w.Roll_bap_chan_phai_moi;c.rotation.x=f,p.rotation.x=b,h.rotation.x=g,m.rotation.x=_})).catch((n=>{console.error("There was a problem with the fetch operation:",n)}))}async function _(){fetch("https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/Get_motion").then((n=>{if(!n.ok)throw new Error("Cannot Connect");return n.json()})).then((n=>{var o,t,i,e,a,l,r,d,s,u,c,p;const h=null===(o=n[0])||void 0===o||null===(t=o.public)||void 0===t||null===(i=t.input)||void 0===i||null===(e=i.jsonData)||void 0===e?void 0:e.Roll,m=null===(a=n[0])||void 0===a||null===(l=a.public)||void 0===l||null===(r=l.input)||void 0===r||null===(d=r.jsonData)||void 0===d?void 0:d.Pitch,f=null===(s=n[0])||void 0===s||null===(u=s.public)||void 0===u||null===(c=u.input)||void 0===c||null===(p=c.jsonData)||void 0===p?void 0:p.Yaw;v.rotation.z=m,v.rotation.x=h,w.rotation.y=f})).catch((n=>{console.error("There was a problem with the fetch operation:",n)}))}r=f.find((n=>"mixamorigLeftArm"===n.name)),d=f.find((n=>"mixamorigRightArm"===n.name)),s=f.find((n=>"mixamorigLeftForeArm"===n.name)),u=f.find((n=>"mixamorigRightForeArm"===n.name)),r.rotation.x=1.4,d.rotation.x=1.4,c=f.find((n=>"mixamorigLeftUpLeg"===n.name)),p=f.find((n=>"mixamorigRightUpLeg"===n.name)),h=f.find((n=>"mixamorigLeftLeg"===n.name)),m=f.find((n=>"mixamorigRightLeg"===n.name)),v=f.find((n=>"mixamorigHead"===n.name)),w=f.find((n=>"mixamorigNeck"===n.name)),g(),setInterval(g,100),b(),setInterval(b,100),_(),setInterval(_,100)})),i=new e.CP7({antialias:!0}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth/2,window.innerHeight/2),i.outputEncoding=e.knz,n.current.appendChild(i.domElement),window.addEventListener("resize",g,!1);const x=new l.z(o,i.domElement);x.target.set(0,1,0),x.update()})(),f(),()=>{n.current&&n.current.contains(i.domElement)&&n.current.removeChild(i.domElement)}}),[]),(0,r.jsx)("div",{className:"three-js-container",ref:n,children:null})}}}]);
//# sourceMappingURL=208.a85d8d4c.chunk.js.map