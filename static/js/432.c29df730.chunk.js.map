{"version":3,"file":"static/js/432.c29df730.chunk.js","mappings":"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","sources":["Components/ListAccount.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport \"./ListAccount.css\";\r\nimport usavtar from './usav.png';\r\n\r\nfunction ListAccount() {\r\n    const [data, setData] = useState([]);\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = () => {\r\n        fetch('https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/GET_Data_login')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setData(data[0].public.input.jsondata);\r\n                setFilteredData(data[0].public.input.jsondata); // Khởi tạo filteredData ban đầu là toàn bộ dữ liệu\r\n            })\r\n            .catch(error => {\r\n                console.error('Fetch error:', error);\r\n            });\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        const value = event.target.value;\r\n        setSearchTerm(value);\r\n        // Lọc dữ liệu dựa trên firstName\r\n        const filtered = Object.keys(data).filter(key => data[key].firstName.toLowerCase().includes(value.toLowerCase()));\r\n        console.log('Search term:', value);\r\n        console.log('Data:', data);\r\n        console.log('Filtered data:', filtered);\r\n        setFilteredData(filtered.reduce((obj, key) => {\r\n            obj[key] = data[key];\r\n            return obj;\r\n        }, {}));\r\n    };\r\n\r\n\r\n    const toggleShowPassword = () => {\r\n        setShowPassword(!showPassword);\r\n    };\r\n\r\n    const deleteUser = (firstName) => {\r\n        // Tìm người dùng dựa trên firstName\r\n        let userToDelete = null;\r\n        for (const key in filteredData) {\r\n            if (filteredData[key].firstName === firstName) {\r\n                userToDelete = filteredData[key];\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Kiểm tra xem người dùng có tồn tại không\r\n        if (!userToDelete) {\r\n            console.error('User not found. Filtered data:', filteredData);\r\n            return;\r\n        }\r\n\r\n        // Gửi yêu cầu DELETE đến API với id của người dùng cần xóa\r\n        fetch(`https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/DELETE_ACCOUNT/${userToDelete._id}`, {\r\n            method: 'DELETE'\r\n        })\r\n            .then(response => {\r\n                if (response.ok) {\r\n                    fetchData(); // Fetch lại dữ liệu sau khi xóa\r\n                    console.log('User deleted successfully.');\r\n                } else {\r\n                    console.error('Failed to delete user.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Delete error:', error);\r\n            });\r\n    };\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <link rel='stylesheet' href='https://unicons.iconscout.com/release/v4.0.0/css/line.css' />\r\n            <div className='title'>\r\n                <i className='uil uil-tachometer-fast-alt'></i>\r\n                <span className='text'>Manage Users</span>\r\n            </div>\r\n            <div className='cover' style={{ display: 'flex', alignItems: 'center' }}>\r\n                <div className='search-box1' style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                    <i className='uil uil-search'></i>\r\n                    <input type=\"text\" value={searchTerm} onChange={handleSearch} placeholder=\"Search User By FirstName\" />\r\n                </div>\r\n\r\n                <div className=\"toggle-password\" style={{ marginLeft: '10px' }}>\r\n                    <button type=\"button\" className={showPassword ? \"active button4\" : \"button3\"} onClick={toggleShowPassword}>\r\n                        {showPassword ? <><i class=\"uil uil-eye-slash\"></i> Hide Password</> : <><i className=\"uil uil-eye\"></i> Show Password</>}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid-container\">\r\n                {Object.keys(filteredData).map(key => (\r\n                    <div key={key} className='tagUser'>\r\n                        <div className='logous'>\r\n                            <img src={usavtar} alt='Logo' />\r\n                        </div>\r\n                        <h2>{filteredData[key].firstName} {filteredData[key].lastName}</h2>\r\n                        <p>First Name: {filteredData[key].firstName}</p>\r\n                        <p>Last Name: {filteredData[key].lastName}</p>\r\n                        <p>Email: {filteredData[key].email}</p>\r\n                        <p>Password: {showPassword ? filteredData[key].password : \"*********\"}</p>\r\n                        <div>\r\n                            <button className='button1'>Update</button>\r\n                            <button className='button2' onClick={() => deleteUser(filteredData[key]._id)}>Delete</button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListAccount;\r\n"],"names":["data","setData","useState","filteredData","setFilteredData","searchTerm","setSearchTerm","showPassword","setShowPassword","useEffect","fetchData","fetch","then","response","json","public","input","jsondata","catch","error","console","_jsxs","children","_jsx","rel","href","className","style","display","alignItems","flex","type","value","onChange","event","target","filtered","Object","keys","filter","key","firstName","toLowerCase","includes","log","reduce","obj","placeholder","marginLeft","onClick","toggleShowPassword","_Fragment","class","map","src","usavtar","alt","lastName","email","password","userToDelete","concat","_id","method","ok","deleteUser"],"sourceRoot":""}