{"version":3,"file":"static/js/164.f8b45e67.chunk.js","mappings":"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","sources":["Components/Dashboard.jsx"],"sourcesContent":["import \"./Dashboard.css\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport usavtar from './usav.png';\r\n\r\nfunction Dashboard() {\r\n    const [data, setData] = useState([]);\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [totalAccounts, setTotalAccounts] = useState(0);\r\n    const [totalRoleOneAccounts, setTotalRoleOneAccounts] = useState(0);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = () => {\r\n        fetch('https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/GET_Data_login')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setData(data[0].public.input.jsondata);\r\n                setFilteredData(data[0].public.input.jsondata); // Khởi tạo filteredData ban đầu là toàn bộ dữ liệu\r\n                setTotalAccounts(Object.keys(data[0].public.input.jsondata).length);\r\n                // Đếm số lượng tài khoản có role = 1\r\n                const roleOneAccounts = Object.values(data[0].public.input.jsondata).filter(account => account.role === 1);\r\n                setTotalRoleOneAccounts(roleOneAccounts.length);\r\n            })\r\n            .catch(error => {\r\n                console.error('Fetch error:', error);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className='dash-content' style={{ paddingTop: '5px' }}>\r\n            <div className='overview'>\r\n                <div className='title'>\r\n                    <i className='uil uil-tachometer-fast-alt'></i>\r\n                    <span className='text'>Dashboard</span>\r\n                </div>\r\n\r\n                <div className='boxes' >\r\n                    <div className='box box1'>\r\n                        <i class=\"uil uil-users-alt\"></i>\r\n                        <span className='text'>Total Accounts</span>\r\n                        <span className='number'>{totalAccounts}</span>\r\n                    </div>\r\n                    <div className='box box2'>\r\n                        <i class=\"uil uil-servers\"></i>\r\n                        <span className='text'>Total Sensor</span>\r\n                        <span className='number'>4</span>\r\n                    </div>\r\n                    <div className='box box3'>\r\n                        <i class=\"uil uil-user-check\"></i>\r\n                        <span className='text'>Total Admins</span>\r\n                        <span className='number'>{totalRoleOneAccounts}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='title'>\r\n                    <i class=\"uil uil-user-check\"></i>\r\n                    <span className='text'>Recently Users</span>\r\n                </div>\r\n\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>First Name</th>\r\n                            <th>Last Name</th>\r\n                            <th>Email</th>\r\n                            <th>Date Created</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {Object.values(filteredData)\r\n                            .sort((a, b) => new Date(b.date) - new Date(a.date)) // Sort by date in descending order\r\n                            .slice(0, 10) // Get the top 10 accounts\r\n                            .map(item => {\r\n                                const date = new Date(item.date);\r\n                                const formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;\r\n\r\n                                return (\r\n                                    <tr key={item.id}>\r\n                                        <td>\r\n                                            <div className='logous1'>\r\n                                                <img src={usavtar} alt=\"Avatar\" />\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>{item.firstname}</td>\r\n                                        <td>{item.lastname}</td>\r\n                                        <td>{item.email}</td>\r\n                                        <td>{formattedDate}</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dashboard;"],"names":["data","setData","useState","filteredData","setFilteredData","totalAccounts","setTotalAccounts","totalRoleOneAccounts","setTotalRoleOneAccounts","useEffect","fetchData","fetch","then","response","json","public","input","jsondata","Object","keys","length","roleOneAccounts","values","filter","account","role","catch","error","console","_jsx","className","style","paddingTop","children","_jsxs","class","sort","a","b","Date","date","slice","map","item","formattedDate","concat","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds","src","usavtar","alt","firstname","lastname","email","id"],"sourceRoot":""}