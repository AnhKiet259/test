{"version":3,"file":"static/js/208.a85d8d4c.chunk.js","mappings":"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","sources":["Components/ThreeJSComponent.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport './ThreeJSComponent.css'; // Import CSS file\r\n\r\nconst SmallFrame = () => {\r\n    const mount = useRef(null);\r\n\r\n    useEffect(() => {\r\n        let camera, scene, renderer, Taytrai, Tayphai, Cotaytrai, Cotayphai, Chantrai, Chanphai, Bapchantrai, Bapchanphai, Dau, Co1;\r\n\r\n        const init = () => {\r\n            camera = new THREE.PerspectiveCamera(40, (window.innerWidth / 2) / (window.innerHeight / 2), 0.01, 10);\r\n            camera.position.set(3, 3, 1);\r\n            camera.lookAt(0, 0, 0);\r\n\r\n            scene = new THREE.Scene();\r\n            scene.background = new THREE.Color(0xffffff);\r\n\r\n            const light = new THREE.HemisphereLight(0xbbbbff, 0x444422);\r\n            light.position.set(0, 1, 0);\r\n            scene.add(light);\r\n\r\n            const mesh = new THREE.Mesh(\r\n                new THREE.PlaneGeometry(6, 6),\r\n                new THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false })\r\n            );\r\n            mesh.rotation.x = -Math.PI / 2;\r\n            mesh.receiveShadow = true;\r\n            scene.add(mesh);\r\n\r\n            const grid = new THREE.GridHelper(6, 20, 0x000000, 0x000000);\r\n            grid.material.opacity = 0.1;\r\n            grid.material.transparent = true;\r\n            scene.add(grid);\r\n\r\n            const loader = new GLTFLoader();\r\n            loader.load('https://raw.githubusercontent.com/AnhKiet259/Test3D/master/mohinh.glb', function (gltf) {\r\n                const model = gltf.scene;\r\n\r\n                model.traverse((o) => {\r\n                    if (o.isMesh) {\r\n                        o.material.metalness = false;\r\n                        o.material.wireframe = false;\r\n                        o.castShadow = true;\r\n                        o.receiveShadow = true;\r\n                    }\r\n                });\r\n\r\n                const SkinnedMesh = model.children[0].children[1];\r\n                scene.add(model);\r\n\r\n                const Skeleton = SkinnedMesh.skeleton;\r\n                const SkeletonHelper = new THREE.SkeletonHelper(Skeleton.bones[0]);\r\n                SkeletonHelper.skeleton = Skeleton;\r\n                SkeletonHelper.visible = true;\r\n                scene.add(SkeletonHelper);\r\n\r\n                const Bones = SkinnedMesh.skeleton.bones;\r\n                Taytrai = Bones.find((bone) => bone.name === 'mixamorigLeftArm');\r\n                Tayphai = Bones.find((bone) => bone.name === 'mixamorigRightArm');\r\n                Cotaytrai = Bones.find((bone) => bone.name === 'mixamorigLeftForeArm');\r\n                Cotayphai = Bones.find((bone) => bone.name === 'mixamorigRightForeArm');\r\n                Taytrai.rotation.x = 1.4;\r\n                Tayphai.rotation.x = 1.4;\r\n\r\n                // Chân\r\n                Chantrai = Bones.find((bone) => bone.name === 'mixamorigLeftUpLeg');\r\n                Chanphai = Bones.find((bone) => bone.name === 'mixamorigRightUpLeg');\r\n                Bapchantrai = Bones.find((bone) => bone.name === 'mixamorigLeftLeg');\r\n                Bapchanphai = Bones.find((bone) => bone.name === 'mixamorigRightLeg');\r\n                // Đầu\r\n                Dau = Bones.find((bone) => bone.name === 'mixamorigHead');\r\n                Co1 = Bones.find((bone) => bone.name === 'mixamorigNeck');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                async function fetchData() {\r\n                    fetch('https://ap-southeast-1.aws.data.mongodb-api.com/app/data-byptt/endpoint/GET_MOTION_API')\r\n                        .then(response => {\r\n                            if (!response.ok) {\r\n                                throw new Error('Network response was not ok');\r\n                            }\r\n                            return response.json();\r\n                        })\r\n                        .then(data => {\r\n                            //const apiDataDiv = document.getElementById('apiData');\r\n\r\n\r\n                            const taytrai = data[0]?.public?.output?.jsonData?.taytrai_p;\r\n                            const cangtaytrai = data[0]?.public?.output?.jsonData?.cangtaytrai_p;\r\n                            const tayphai = data[0]?.public?.output?.jsonData?.tayphai_p;\r\n                            const cangtayphai = data[0]?.public?.output?.jsonData?.cangtayphai_p;\r\n                            Taytrai.rotation.z = taytrai;\r\n                            Tayphai.rotation.z = tayphai;\r\n                            Cotaytrai.rotation.z = cangtaytrai;\r\n                            Cotayphai.rotation.z = cangtayphai;\r\n                        })\r\n                        .catch(error => {\r\n                            console.error('There was a problem with the fetch operation:', error);\r\n                        });\r\n                }\r\n\r\n                fetchData();\r\n                setInterval(fetchData, 100);\r\n\r\n\r\n                // Chân\r\n                async function fetchData_chân() {\r\n                    fetch('https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/TEST_GET')\r\n                        .then(response => {\r\n                            if (!response.ok) {\r\n                                throw new Error('Network response was not ok');\r\n                            }\r\n                            return response.json();\r\n                        })\r\n                        .then(data => {\r\n                            //const apiDataDiv = document.getElementById('apiData');\r\n\r\n\r\n                            const DUITRAI = data[0].public.output.jsonData.Roll_dui_trai_moi;\r\n                            const BAPCHANTRAI = data[0]?.public?.output?.jsonData?.Roll_bap_chan_trai_moi;\r\n                            const DUIPHAI = data[0]?.public?.output?.jsonData?.Roll_dui_phai_moi;\r\n                            const BAPCHANPHAI = data[0]?.public?.output?.jsonData?.Roll_bap_chan_phai_moi;\r\n                            Chantrai.rotation.x = DUITRAI;\r\n                            Chanphai.rotation.x = DUIPHAI;\r\n                            Bapchantrai.rotation.x = BAPCHANTRAI;\r\n                            Bapchanphai.rotation.x = BAPCHANPHAI;\r\n\r\n\r\n                        })\r\n                        .catch(error => {\r\n                            console.error('There was a problem with the fetch operation:', error);\r\n                        });\r\n                }\r\n\r\n                fetchData_chân();\r\n                setInterval(fetchData_chân, 100);\r\n\r\n                // Đầu\r\n                async function fetchData_Đầu() {\r\n\r\n                    fetch('https://ap-southeast-1.aws.data.mongodb-api.com/app/application-0-khcpn/endpoint/Get_motion').then(response => {\r\n                        if (!response.ok) {\r\n                            throw new Error('Cannot Connect');\r\n                        }\r\n                        return response.json();\r\n                    })\r\n                        .then(data => {\r\n\r\n                            const Daux = data[0]?.public?.input?.jsonData?.Roll;\r\n                            const Dauz = data[0]?.public?.input?.jsonData?.Pitch;\r\n                            const Co = data[0]?.public?.input?.jsonData?.Yaw;\r\n                            Dau.rotation.z = Dauz;\r\n                            Dau.rotation.x = Daux;\r\n                            Co1.rotation.y = Co;\r\n                        })\r\n                        .catch(error => {\r\n                            console.error('There was a problem with the fetch operation:', error);\r\n                        });\r\n                } fetchData_Đầu();\r\n                setInterval(fetchData_Đầu, 100);\r\n\r\n\r\n            });\r\n\r\n            renderer = new THREE.WebGLRenderer({ antialias: true });\r\n            renderer.setPixelRatio(window.devicePixelRatio);\r\n            // Thu nhỏ kích thước của renderer lại 1/2\r\n            renderer.setSize(window.innerWidth / 2, window.innerHeight / 2);\r\n            renderer.outputEncoding = THREE.sRGBEncoding;\r\n\r\n            mount.current.appendChild(renderer.domElement);\r\n\r\n            window.addEventListener('resize', onWindowResize, false);\r\n\r\n            const controls = new OrbitControls(camera, renderer.domElement);\r\n            controls.target.set(0, 1, 0);\r\n            controls.update();\r\n        };\r\n\r\n        const animate = () => {\r\n            requestAnimationFrame(animate);\r\n            renderer.render(scene, camera);\r\n        };\r\n\r\n        const onWindowResize = () => {\r\n            camera.aspect = (window.innerWidth / 2) / (window.innerHeight / 2);\r\n            camera.updateProjectionMatrix();\r\n            // Thu nhỏ kích thước của renderer lại 1/2\r\n            renderer.setSize(window.innerWidth / 2, window.innerHeight / 2);\r\n        };\r\n\r\n        init();\r\n        animate();\r\n\r\n        return () => {\r\n            if (mount.current && mount.current.contains(renderer.domElement)) {\r\n                mount.current.removeChild(renderer.domElement);\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"three-js-container\" ref={mount}>\r\n            {null}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SmallFrame;\r\n"],"names":["SmallFrame","mount","useRef","useEffect","camera","scene","renderer","Taytrai","Tayphai","Cotaytrai","Cotayphai","Chantrai","Chanphai","Bapchantrai","Bapchanphai","Dau","Co1","animate","requestAnimationFrame","render","onWindowResize","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","setSize","init","THREE","position","set","lookAt","background","light","add","mesh","color","depthWrite","rotation","x","Math","PI","receiveShadow","grid","material","opacity","transparent","GLTFLoader","load","gltf","model","traverse","o","isMesh","metalness","wireframe","castShadow","SkinnedMesh","children","Skeleton","skeleton","SkeletonHelper","bones","visible","Bones","async","fetchData","fetch","then","response","ok","Error","json","data","_data$","_data$$public","_data$$public$output","_data$$public$output$","_data$2","_data$2$public","_data$2$public$output","_data$2$public$output2","_data$3","_data$3$public","_data$3$public$output","_data$3$public$output2","_data$4","_data$4$public","_data$4$public$output","_data$4$public$output2","taytrai","public","output","jsonData","taytrai_p","cangtaytrai","cangtaytrai_p","tayphai","tayphai_p","cangtayphai","cangtayphai_p","z","catch","error","console","fetchData_chân","_data$5","_data$5$public","_data$5$public$output","_data$5$public$output2","_data$6","_data$6$public","_data$6$public$output","_data$6$public$output2","_data$7","_data$7$public","_data$7$public$output","_data$7$public$output2","DUITRAI","Roll_dui_trai_moi","BAPCHANTRAI","Roll_bap_chan_trai_moi","DUIPHAI","Roll_dui_phai_moi","BAPCHANPHAI","Roll_bap_chan_phai_moi","fetchData_Đầu","_data$8","_data$8$public","_data$8$public$input","_data$8$public$input$","_data$9","_data$9$public","_data$9$public$input","_data$9$public$input$","_data$10","_data$10$public","_data$10$public$input","_data$10$public$input2","Daux","input","Roll","Dauz","Pitch","Co","Yaw","y","find","bone","name","setInterval","antialias","setPixelRatio","devicePixelRatio","outputEncoding","current","appendChild","domElement","addEventListener","controls","OrbitControls","target","update","contains","removeChild","_jsx","className","ref"],"sourceRoot":""}