{"version":3,"file":"static/js/432.79bacdcb.chunk.js","mappings":"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","sources":["Components/ListAccount.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport \"./ListAccount.css\";\r\nimport usavtar from './usav.png';\r\nimport axios from 'axios';\r\n\r\nfunction ListAccount() {\r\n    const [data, setData] = useState([]);\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [modalVisible1, setModalVisible1] = useState(false);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [confirmModalVisible, setConfirmModalVisible] = useState(false);\r\n    const [confirmModalKey, setConfirmModalKey] = useState(null);\r\n    const [updatedID, setUpdatedID] = useState('');\r\n    const [updatedFirstName, setUpdatedFirstName] = useState('');\r\n    const [updatedLastName, setUpdatedLastName] = useState('');\r\n    const [updatedEmail, setUpdatedEmail] = useState('');\r\n    const [updatedPass, setUpdatedPass] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = () => {\r\n        fetch('https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/GET_Data_login')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setData(data[0].public.input.jsondata);\r\n                setFilteredData(data[0].public.input.jsondata); // Khởi tạo filteredData ban đầu là toàn bộ dữ liệu\r\n            })\r\n            .catch(error => {\r\n                console.error('Fetch error:', error);\r\n            });\r\n    };\r\n\r\n    const showConfirmModal = (key) => {\r\n        setConfirmModalKey(key);\r\n        setConfirmModalVisible(true);\r\n    };\r\n\r\n    const hideConfirmModal = () => {\r\n        setConfirmModalKey(null);\r\n        setConfirmModalVisible(false);\r\n    };\r\n\r\n    const toggleModal = () => {\r\n        setModalVisible(!modalVisible); // Toggle the modal visibility state\r\n    };\r\n\r\n    const toggleModal1 = () => {\r\n        setModalVisible1(!modalVisible1); // Toggle the modal visibility state\r\n    };\r\n\r\n    const handleDelete = (key) => {\r\n        showConfirmModal(key);\r\n    };\r\n\r\n    const handleDeleteConfirm = () => {\r\n        const key = confirmModalKey;\r\n        axios\r\n            .post(`https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/DELETE_ACCOUNT`, {\r\n                data: { key },\r\n            })\r\n            .then(response => {\r\n                console.log('Delete successful:', response);\r\n                setFilteredData(prevData => {\r\n                    const updatedData = { ...prevData };\r\n                    delete updatedData[key];\r\n                    return { ...updatedData };\r\n                });\r\n                hideConfirmModal();\r\n                toggleModal1();\r\n            })\r\n            .catch(error => {\r\n                console.error('Delete error:', error);\r\n            });\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        const value = event.target.value;\r\n        setSearchTerm(value);\r\n        // Lọc dữ liệu dựa trên firstName\r\n        const filtered = Object.keys(data).filter(key => data[key].firstname.toLowerCase().includes(value.toLowerCase()));\r\n        setFilteredData(filtered.reduce((obj, key) => {\r\n            obj[key] = data[key];\r\n            return obj;\r\n        }, {}));\r\n    };\r\n\r\n    const toggleShowPassword = () => {\r\n        setShowPassword(!showPassword);\r\n    };\r\n\r\n    const handleUpdate = (key) => {\r\n        const { firstname, lastname, email, password } = data[key];\r\n        setUpdatedID(key);\r\n        setUpdatedFirstName(firstname);\r\n        setUpdatedLastName(lastname);\r\n        setUpdatedEmail(email);\r\n        setUpdatedPass(password);\r\n        toggleModal();\r\n    };\r\n    const handleUpdateConfirm = () => {\r\n        const key = confirmModalKey;\r\n        const updatedData = {\r\n            username: updatedID,\r\n            email: updatedEmail,\r\n            password: updatedPass,\r\n        };\r\n        axios\r\n            .post(`https://asia-south1.gcp.data.mongodb-api.com/app/application-0-iatxy/endpoint/UPDATE_ACCOUNT`, updatedData)\r\n            .then(response => {\r\n                console.log('Update successful:', response);\r\n                setData(prevData => {\r\n                    const updated = { ...prevData };\r\n                    updated[key] = updatedData[key];\r\n                    return updated;\r\n                });\r\n                fetchData();\r\n                toggleModal();\r\n                toggleModal1();\r\n            })\r\n            .catch(error => {\r\n                console.error('Update error:', error);\r\n            });\r\n    };\r\n\r\n    // const handleFirstNameChange = (event) => {\r\n    //     setUpdatedFirstName(event.target.value);\r\n    // };\r\n\r\n    // const handleLastNameChange = (event) => {\r\n    //     setUpdatedLastName(event.target.value);\r\n    // };\r\n\r\n    const handleEmailChange = (event) => {\r\n        setUpdatedEmail(event.target.value);\r\n    };\r\n\r\n    const handlePassChange = (event) => {\r\n        setUpdatedPass(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <link rel='stylesheet' href='https://unicons.iconscout.com/release/v4.0.0/css/line.css' />\r\n            <div className='title'>\r\n                <i className='uil uil-tachometer-fast-alt'></i>\r\n                <span className='text'>Manage Users</span>\r\n            </div>\r\n            <div className='cover' style={{ display: 'flex', alignItems: 'centerHere' }}>\r\n                <div className='search-box1' style={{ flex: 1, display: 'flex', alignItems: 'center' }}>\r\n                    <i className='uil uil-search'></i>\r\n                    <input type=\"text\" value={searchTerm} onChange={handleSearch} placeholder=\"Search User By FirstName\" />\r\n                </div>\r\n            </div>\r\n\r\n            {modalVisible1 && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <i class=\"uil uil-check-circle modalicon\" style={{ width: \"200px\" }}></i>\r\n                        <h2>Success</h2>\r\n                        <p>Successfully Update</p>\r\n                        <button className=\"modal-close\" onClick={toggleModal1}>\r\n                            Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {confirmModalVisible && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\" style={{ borderRadius: '30px' }}>\r\n                        <i class=\"uil uil-question-circle modalicon\" style={{ width: \"200px\", color: \"red\" }}></i>\r\n                        <h2>Confirm Delete</h2>\r\n                        <p>Are you sure you want to delete this user?</p>\r\n                        <div className=\"confirm-modal-buttons\">\r\n                            <button className=\"confirm-modal-button modal-close\" onClick={handleDeleteConfirm} style={{ marginRight: '10px' }}>\r\n                                Delete\r\n                            </button>\r\n                            <button className=\"confirm-modal-button modal-close\" onClick={hideConfirmModal}>\r\n                                Close\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {modalVisible && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\" style={{ borderRadius: '30px' }}>\r\n                        <i class=\"uil uil-file-edit-alt modalicon\" style={{ width: \"200px\", color: \"#fc9803\" }}></i>\r\n                        <h2>Update Information</h2>\r\n                        {/* <div className=\"form-group\">\r\n                            <label htmlFor=\"firstName\">First Name:</label>\r\n                            <input type=\"text\" id=\"firstName\" value={updatedFirstName} onChange={handleFirstNameChange} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"lastName\">Last Name:</label>\r\n                            <input type=\"text\" id=\"lastName\" value={updatedLastName} onChange={handleLastNameChange} />\r\n                        </div> */}\r\n                        <a >( {updatedFirstName} {updatedLastName} )</a>\r\n                        <div className=\"form-group\" style={{\r\n                            width: '100%',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            padding: '8px',\r\n                            marginTop: '10px',\r\n                            border: '1px solid #ccc',\r\n                            borderRadius: '8px',\r\n                        }}>\r\n                            <a style={{ marginRight: '5px' }}>Email:</a>\r\n                            <input type=\"text\" id=\"email\" value={updatedEmail} onChange={handleEmailChange} />\r\n                        </div>\r\n                        <div\r\n                            className=\"form-group\"\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                width: '100%',\r\n                                padding: '8px',\r\n                                marginTop: '8px',\r\n                                border: '1px solid #ccc',\r\n                                borderRadius: '8px',\r\n                            }}\r\n                        >\r\n                            <a style={{ marginRight: '5px' }}>Password:</a>\r\n                            <input type=\"text\" id=\"password\" value={updatedPass} onChange={handlePassChange} />\r\n                        </div>\r\n                        <div className=\"form-buttons\" style={{ paddingTop: '30px' }}>\r\n                            <button className=\"modal-close\" style={{ marginRight: '10px' }} onClick={handleUpdateConfirm}>\r\n                                Update\r\n                            </button>\r\n                            <button className=\"modal-close\" onClick={toggleModal}>\r\n                                Cancel\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div class=\"grid-container\">\r\n                {Object.keys(filteredData).map(key => (\r\n                    <div key={key} className='tagUser'>\r\n                        <div className='logous'>\r\n                            <img src={usavtar} alt='Logo' />\r\n                        </div>\r\n                        <h2>{filteredData[key].firstname} {filteredData[key].lastname}</h2>\r\n                        <p>First Name: {filteredData[key].firstname}</p>\r\n                        <p>Last Name: {filteredData[key].lastname}</p>\r\n                        <p>Email: {filteredData[key].email}</p>\r\n                        <p>Phone: {filteredData[key].phone}</p>\r\n                        <div>\r\n                            <button className='button1' onClick={() => handleUpdate(key)}>Update</button>\r\n                            <button className='button2' onClick={() => handleDelete(key)}>Delete</button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListAccount;"],"names":["data","setData","useState","filteredData","setFilteredData","searchTerm","setSearchTerm","showPassword","setShowPassword","modalVisible1","setModalVisible1","modalVisible","setModalVisible","confirmModalVisible","setConfirmModalVisible","confirmModalKey","setConfirmModalKey","updatedID","setUpdatedID","updatedFirstName","setUpdatedFirstName","updatedLastName","setUpdatedLastName","updatedEmail","setUpdatedEmail","updatedPass","setUpdatedPass","useEffect","fetchData","fetch","then","response","json","public","input","jsondata","catch","error","console","hideConfirmModal","toggleModal","toggleModal1","handleDelete","key","showConfirmModal","_jsxs","children","_jsx","rel","href","className","style","display","alignItems","flex","type","value","onChange","event","target","filtered","Object","keys","filter","firstname","toLowerCase","includes","reduce","obj","placeholder","class","width","onClick","borderRadius","color","handleDeleteConfirm","axios","post","log","prevData","updatedData","marginRight","padding","marginTop","border","id","paddingTop","handleUpdateConfirm","username","email","password","updated","map","src","usavtar","alt","lastname","phone","handleUpdate"],"sourceRoot":""}